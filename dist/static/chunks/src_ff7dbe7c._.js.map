{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconsole.log('API Base URL:', process.env.NEXT_PUBLIC_API_URL);\r\n\r\nconst api = axios.create({ baseURL: process.env.NEXT_PUBLIC_API_URL, withCredentials: true });\r\n\r\n// Add request interceptor for debugging\r\napi.interceptors.request.use((config) => {\r\n  console.log('Making API request to:', config.baseURL + config.url);\r\n  console.log('Request data:', config.data);\r\n  return config;\r\n}, (error) => {\r\n  console.error('Request error:', error);\r\n  return Promise.reject(error);\r\n});\r\n\r\n// Add response interceptor for debugging\r\napi.interceptors.response.use((response) => {\r\n  console.log('API response:', response.status, response.data);\r\n  return response;\r\n}, (error) => {\r\n  console.error('API error:', error.response?.status, error.response?.data);\r\n  \r\n  // For authentication endpoints, don't re-throw certain errors\r\n  // Let the calling code handle them gracefully\r\n  if (error.config?.url?.includes('/auth/login') && \r\n      (error.response?.status === 400 || error.response?.status === 401)) {\r\n    console.log('Authentication error intercepted, allowing graceful handling');\r\n    return Promise.resolve({ error: error.response }); // Resolve instead of reject for specific authentication errors\r\n  }\r\n  \r\n  return Promise.reject(error);\r\n});\r\n\r\n// Test endpoint\r\nexport const testConnection = () => api.get('/');\r\n\r\n// AUTH\r\nexport const login = (data: { email: string, password: string }) => api.post('/auth/login', data);\r\nexport const loginStaff = (data: { email: string, password: string }) => api.post('/auth/login-staff', data);\r\nexport const refresh = () => api.get('/auth/refresh');\r\nexport const logout = () => api.post('/auth/logout');\r\n\r\n// GUEST\r\nexport const createGuest = (data: { tableName: string, guestName: string }) => api.post('/guest', data);\r\nexport const getGuests = (params: any) => api.get('/guest', { params });\r\nexport const getGuest = (id: string) => api.get(`/guest/${id}`);\r\nexport const updateGuest = (id: string, data: any) => api.patch(`/guest/${id}`, data);\r\nexport const deleteGuest = (id: string) => api.delete(`/guest/${id}`);\r\n\r\n// ORDER\r\nexport const createOrder = (data: any) => api.post('/order', data);\r\nexport const getOrders = (params: any) => api.get('/order', { params });\r\nexport const getOrder = (id: string) => api.get(`/order/${id}`);\r\nexport const updateOrder = (id: string, data: any) => api.patch(`/order/${id}`, data);\r\nexport const deleteOrder = (id: string) => api.delete(`/order/${id}`);\r\n\r\n// MENU ITEM\r\nexport const getMenuItems = (params: any) => api.get('/menu-items', { params });\r\nexport const getMenuItem = (id: string) => api.get(`/menu-items/${id}`);\r\nexport const createMenuItem = (data: any) => api.post('/menu-items', data);\r\nexport const updateMenuItem = (id: string, data: any) => api.patch(`/menu-items/${id}`, data);\r\nexport const deleteMenuItem = (id: string) => api.delete(`/menu-items/${id}`);\r\n\r\n// PAYMENT\r\nexport const getPayments = (params: any) => api.get('/payment', { params });\r\nexport const getPayment = (id: string) => api.get(`/payment/${id}`);\r\nexport const createPayment = (data: any) => api.post('/payment', data);\r\nexport const updatePayment = (id: string, data: any) => api.patch(`/payment/${id}`, data);\r\nexport const deletePayment = (id: string) => api.delete(`/payment/${id}`);\r\n\r\n// TABLE\r\nexport const getTables = (params: any) => api.get('/table', { params });\r\nexport const getTable = (id: string) => api.get(`/table/${id}`);\r\nexport const createTable = (data: any) => api.post('/table', data);\r\nexport const updateTable = (id: string, data: any) => api.patch(`/table/${id}`, data);\r\nexport const deleteTable = (id: string) => api.delete(`/table/${id}`);\r\n\r\n// USER\r\nexport const getUsers = (params: any) => api.get('/user', { params });\r\nexport const getUser = (id: string) => api.get(`/user/${id}`);\r\nexport const createUser = (data: any) => api.post('/user', data);\r\nexport const updateUser = (id: string, data: any) => api.patch(`/user/${id}`, data);\r\nexport const deleteUser = (id: string) => api.delete(`/user/${id}`);\r\n\r\n// ANALYTICS\r\nexport const getTodayStats = () => api.get('/analytics/today');\r\nexport const getWeeklyTrends = () => api.get('/analytics/weekly-trends');\r\n\r\n// Helper functions for frontend\r\nexport const fetchTables = async () => {\r\n  try {\r\n    const response = await getTables({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching tables:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchOrders = async () => {\r\n  try {\r\n    const response = await getOrders({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching orders:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchPayments = async () => {\r\n  try {\r\n    const response = await getPayments({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching payments:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchMenuItems = async () => {\r\n  try {\r\n    const response = await getMenuItems({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching menu items:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchGuests = async () => {\r\n  try {\r\n    const response = await getGuests({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching guests:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchUsers = async () => {\r\n  try {\r\n    const response = await getUsers({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching users:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { login, loginStaff as loginStaffAPI, refresh, logout as logoutAPI } from '@/services/api';\r\nimport Cookies from 'js-cookie';\r\nimport { User } from '@/types';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  loading: boolean;\r\n  login: (data: { email: string; password: string }) => Promise<{ success: boolean; role?: string }>;\r\n  loginAdmin: (data: { email: string; password: string }) => Promise<boolean>;\r\n  loginStaff: (data: { email: string; password: string }) => Promise<boolean>;\r\n  logout: (redirectTo?: string) => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = () => {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error('useAuth must be used within AuthProvider');\r\n  return ctx;\r\n};\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function checkAuth() {\r\n      setLoading(true);\r\n      \r\n      // Check localStorage first for faster initial load\r\n      const storedUser = localStorage.getItem('user');\r\n      const storedToken = localStorage.getItem('accessToken');\r\n      \r\n      if (storedUser && storedToken) {\r\n        try {\r\n          setUser(JSON.parse(storedUser));\r\n          setLoading(false);\r\n          return; // Không cần gọi refresh nữa\r\n        } catch {\r\n          localStorage.removeItem('user');\r\n          localStorage.removeItem('accessToken');\r\n        }\r\n      }\r\n      \r\n      // Nếu không có stored data thì thử refresh từ backend\r\n      if (!storedUser || !storedToken) {\r\n        try {\r\n          const res = await refresh();\r\n          if (res.data && res.data.data && res.data.data.user) {\r\n            const userData = res.data.data.user;\r\n            const accessToken = res.data.data.accessToken;\r\n            setUser(userData);\r\n            localStorage.setItem('user', JSON.stringify(userData));\r\n            localStorage.setItem('accessToken', accessToken);\r\n          } else {\r\n            setUser(null);\r\n          }\r\n        } catch {\r\n          // Nếu refresh fail thì user chưa login\r\n          setUser(null);\r\n        }\r\n      }\r\n      \r\n      setLoading(false);\r\n    }\r\n    \r\n    checkAuth();\r\n  }, []);\r\n\r\n  async function loginUser(data: { email: string; password: string }): Promise<{ success: boolean; role?: string }> {\r\n    // Wrap everything in a try-catch to absolutely prevent any errors from escaping\r\n    try {\r\n      console.log('Starting login process...');\r\n      \r\n      try {\r\n        const res = await login(data);\r\n        console.log('Login response:', res.data);\r\n        \r\n        if (res.data && res.data.data && res.data.data.user) {\r\n          const userData = res.data.data.user;\r\n          const accessToken = res.data.data.accessToken;\r\n          \r\n          // Store user data and token\r\n          setUser(userData);\r\n          localStorage.setItem('user', JSON.stringify(userData));\r\n          localStorage.setItem('accessToken', accessToken);\r\n          \r\n          // Show success toast\r\n          toast.success(`Welcome back, ${userData.name}!`);\r\n          \r\n          // Convert role to lowercase for consistency\r\n          const role = userData.role.toLowerCase();\r\n          return { success: true, role };\r\n        } else {\r\n          // Login failed - wrong credentials\r\n          toast.error('Invalid email or password. Please try again.');\r\n          return { success: false };\r\n        }\r\n      } catch (apiError: any) {\r\n        console.error('API Error in loginUser:', apiError);\r\n        \r\n        // Handle different error types with more specific error messages\r\n        if (apiError.response?.status === 400) {\r\n          // Bad request - usually invalid credentials\r\n          toast.error('Invalid email or password. Please try again.');\r\n        } else if (apiError.response?.status === 401) {\r\n          // Unauthorized\r\n          toast.error('Invalid email or password. Please try again.');\r\n        } else if (apiError.response?.status === 403) {\r\n          // Forbidden\r\n          toast.error('Access denied. Please check your credentials.');\r\n        } else if (apiError.response?.status >= 500) {\r\n          // Server errors\r\n          toast.error('Server error. Please try again later.');\r\n        } else if (apiError.code === 'NETWORK_ERROR' || apiError.message?.includes('Network Error')) {\r\n          // Network errors\r\n          toast.error('Network error. Please check your connection.');\r\n        } else if (apiError.response?.data?.message) {\r\n          // Custom error message from server\r\n          toast.error(apiError.response.data.message);\r\n        } else if (apiError.name === 'AxiosError') {\r\n          // Generic Axios error\r\n          toast.error('Login failed. Please check your credentials and try again.');\r\n        } else {\r\n          // Fallback error\r\n          toast.error('Login failed. Please try again.');\r\n        }\r\n        \r\n        // Always return success: false instead of throwing the error\r\n        return { success: false };\r\n      }\r\n    } catch (outerError: any) {\r\n      // This should never happen, but just in case\r\n      console.error('Outer error in loginUser:', outerError);\r\n      toast.error('An unexpected error occurred. Please try again.');\r\n      return { success: false };\r\n    }\r\n  }\r\n\r\n  async function loginAdmin(data: { email: string; password: string }) {\r\n    try {\r\n      const res = await login(data);\r\n      console.log('Admin login response:', res.data);\r\n      \r\n      if (res.data && res.data.data && res.data.data.user) {\r\n        const userData = res.data.data.user;\r\n        const accessToken = res.data.data.accessToken;\r\n        \r\n        // Check if user is admin\r\n        if (userData.role.toLowerCase() !== 'admin') {\r\n          toast.error('Access denied. Admin privileges required.');\r\n          return false;\r\n        }\r\n        \r\n        // Store user data and token\r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        localStorage.setItem('accessToken', accessToken);\r\n        \r\n        // Show success toast\r\n        toast.success(`Welcome back, Admin ${userData.name}!`);\r\n        return true;\r\n      } else {\r\n        // Login failed - wrong credentials\r\n        toast.error('Invalid email or password. Please try again.');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Admin login failed:', error);\r\n      \r\n      // Handle different error types\r\n      if (error.response?.status === 400 || error.response?.status === 401) {\r\n        toast.error('Invalid email or password. Please try again.');\r\n      } else if (error.response?.status === 403) {\r\n        toast.error('Access denied. Admin privileges required.');\r\n      } else if (error.response?.status >= 500) {\r\n        toast.error('Server error. Please try again later.');\r\n      } else if (error.response?.data?.message) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error('Login failed. Please try again.');\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function loginStaffUser(data: { email: string; password: string }) {\r\n    try {\r\n      const res = await loginStaffAPI(data);\r\n      console.log('Staff login response:', res.data);\r\n      \r\n      if (res.data && res.data.data && res.data.data.user) {\r\n        const userData = res.data.data.user;\r\n        const accessToken = res.data.data.accessToken;\r\n        \r\n        // Store user data and token\r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        localStorage.setItem('accessToken', accessToken);\r\n        \r\n        // Show success toast\r\n        toast.success(`Welcome back, ${userData.name}!`);\r\n        return true;\r\n      } else {\r\n        // Login failed - wrong credentials\r\n        toast.error('Invalid email or password. Please try again.');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Staff login failed:', error);\r\n      \r\n      // Handle different error types\r\n      if (error.response?.status === 400 || error.response?.status === 401) {\r\n        toast.error('Invalid email or password. Please try again.');\r\n      } else if (error.response?.status === 403) {\r\n        toast.error('Access denied. Staff privileges required.');\r\n      } else if (error.response?.status >= 500) {\r\n        toast.error('Server error. Please try again later.');\r\n      } else if (error.response?.data?.message) {\r\n        toast.error(error.response.data.message);\r\n      } else {\r\n        toast.error('Login failed. Please try again.');\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function logout(redirectTo?: string) {\r\n    try {\r\n      // Call logout API to remove refresh token from server\r\n      await logoutAPI();\r\n      console.log('Logout API called successfully');\r\n    } catch (error) {\r\n      console.error('Logout API failed:', error);\r\n      // Continue with logout process even if API fails\r\n    }\r\n    \r\n    // Clear local storage and cookies\r\n    Cookies.remove(process.env.NEXT_PUBLIC_JWT_COOKIE_NAME!);\r\n    setUser(null);\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('accessToken');\r\n    \r\n    // Show success message\r\n    toast.success('Logged out successfully');\r\n    \r\n    // Redirect to specified page or default to login after a short delay to allow toast to be seen\r\n    const finalRedirectTo = redirectTo || '/login';\r\n    setTimeout(() => {\r\n      window.location.href = finalRedirectTo;\r\n    }, 1500);\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading, login: loginUser, loginAdmin, loginStaff: loginStaffUser, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 468, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/hooks/useMenuItems.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\r\nimport { getMenuItems } from '@/services/api';\r\n\r\nexport function useMenuItems(params?: any) {\r\n  return useQuery({\r\n    queryKey: ['menuItems', params],\r\n    queryFn: () => getMenuItems(params).then(res => res.data.data), // Lấy đúng array từ res.data.data\r\n    // Nếu cần filter trong select thì dùng:\r\n    // select: (data) => (Array.isArray(data) ? data : []),\r\n  });\r\n}\r\n\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;;AAEO,SAAS,aAAa,MAAY;;IACvC,OAAO,CAAA,GAAA,8KAAA,CAAA,WAAQ,AAAD,EAAE;QACd,UAAU;YAAC;YAAa;SAAO;QAC/B,OAAO;qCAAE,IAAM,CAAA,GAAA,yHAAA,CAAA,eAAY,AAAD,EAAE,QAAQ,IAAI;6CAAC,CAAA,MAAO,IAAI,IAAI,CAAC,IAAI;;;IAG/D;AACF;GAPgB;;QACP,8KAAA,CAAA,WAAQ","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/components/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useMenuItems } from '@/hooks/useMenuItems';\r\nimport { useState, useRef } from 'react';\r\nimport { ChevronDownIcon, Bars3Icon, XMarkIcon, UserIcon, Cog6ToothIcon, ArrowRightOnRectangleIcon } from '@heroicons/react/24/outline';\r\n\r\nexport default function Header() {\r\n  const { user, logout } = useAuth();\r\n  const { data: menuItems } = useMenuItems();\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [isMenuDropdownOpen, setIsMenuDropdownOpen] = useState(false);\r\n  const [isUserDropdownOpen, setIsUserDropdownOpen] = useState(false);\r\n\r\n  // Get unique categories from menu items\r\n  const categories = menuItems ? [...new Set(menuItems.map(item => item.category).filter(Boolean))] : [];\r\n\r\n  const scrollToMenu = (category?: string) => {\r\n    const element = document.getElementById('menu');\r\n    if (element) {\r\n      element.scrollIntoView({ behavior: 'smooth' });\r\n      // If category is provided, you could implement category filtering here\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg sticky top-0 z-50\">\r\n      <nav className=\"container mx-auto px-4 py-4\">\r\n        <div className=\"flex justify-between items-center\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"text-2xl font-bold hover:text-orange-200 transition-colors duration-200\">\r\n            🍽️ La Bella Vita\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden lg:flex items-center space-x-8\">\r\n            <Link href=\"/\" className=\"hover:text-orange-200 transition-colors duration-200 font-medium\">\r\n              Home\r\n            </Link>\r\n            \r\n            {/* Menu Dropdown */}\r\n            <div className=\"relative\">\r\n              <button\r\n                onClick={() => setIsMenuDropdownOpen(open => !open)}\r\n                className=\"flex items-center space-x-1 hover:text-orange-200 transition-colors duration-200 font-medium\"\r\n              >\r\n                <span>Our Menu</span>\r\n                <ChevronDownIcon className={`w-4 h-4 transition-transform duration-200 ${isMenuDropdownOpen ? 'rotate-180' : ''}`} />\r\n              </button>\r\n              \r\n              {isMenuDropdownOpen && (\r\n                <div className=\"absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50\">\r\n                  <button\r\n                    onClick={() => {\r\n                      scrollToMenu();\r\n                      setIsMenuDropdownOpen(false);\r\n                    }}\r\n                    className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-orange-50 transition-colors duration-200\"\r\n                  >\r\n                    View All Items\r\n                  </button>\r\n                  \r\n                  {categories.length > 0 && (\r\n                    <>\r\n                      <hr className=\"my-2\" />\r\n                      <div className=\"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide\">\r\n                        Categories\r\n                      </div>\r\n                      {categories.map((category) => (\r\n                        <button\r\n                          key={category}\r\n                          onClick={() => {\r\n                            scrollToMenu(category);\r\n                            setIsMenuDropdownOpen(false);\r\n                          }}\r\n                          className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-orange-50 transition-colors duration-200 capitalize\"\r\n                        >\r\n                          {category}\r\n                        </button>\r\n                      ))}\r\n                    </>\r\n                  )}\r\n                  \r\n                  {menuItems && menuItems.length > 0 && (\r\n                    <>\r\n                      <hr className=\"my-2\" />\r\n                      <div className=\"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide\">\r\n                        Popular Items\r\n                      </div>\r\n                      <div className=\"max-h-64 overflow-y-auto\">\r\n                        {menuItems.slice(0, 6).map((item) => (\r\n                          <button\r\n                            key={item._id}\r\n                            onClick={() => {\r\n                              scrollToMenu();\r\n                              setIsMenuDropdownOpen(false);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-gray-800 hover:bg-orange-50 transition-colors duration-200\"\r\n                          >\r\n                            <div className=\"flex justify-between items-center\">\r\n                              <span className=\"truncate\">{item.name}</span>\r\n                              <span className=\"text-orange-600 font-semibold ml-2\">${item.price.toFixed(2)}</span>\r\n                            </div>\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <Link href=\"#about\" className=\"hover:text-orange-200 transition-colors duration-200 font-medium\">\r\n              About\r\n            </Link>\r\n            \r\n            {/* Auth Section */}\r\n            {!user ? (\r\n              <Link\r\n                href=\"/login\"\r\n                className=\"bg-white text-orange-600 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 font-medium\"\r\n              >\r\n                Login\r\n              </Link>\r\n            ) : (\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setIsUserDropdownOpen(prev => !prev)}\r\n                  className=\"flex items-center space-x-2 px-3 py-2 bg-orange-600 hover:bg-orange-700 rounded-full text-white font-medium focus:outline-none focus:ring\"\r\n                >\r\n                  <UserIcon className=\"w-5 h-5\" />\r\n                  <span className=\"hidden md:inline-block\">{user.name}</span>\r\n                  <ChevronDownIcon className={`w-4 h-4 transition-transform duration-200 ${isUserDropdownOpen ? 'rotate-180' : ''}`} />\r\n                </button>\r\n                {isUserDropdownOpen && (\r\n                  <div className=\"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white text-gray-800 z-50 animate-fade-in\">\r\n                    <div className=\"px-4 pt-4 pb-2 border-b\">\r\n                      <div className=\"font-semibold\">{user.name}</div>\r\n                      <div className=\"text-xs text-gray-400\">{user.role}</div>\r\n                      <div className=\"text-xs text-gray-400\">{user.email}</div>\r\n                    </div>\r\n                    <ul className=\"py-2\">\r\n                      <li>\r\n                        <Link\r\n                          href={\r\n                            (user.role === 'admin' || user.role === 'ADMIN') ? '/admin/dashboard' :\r\n                            (user.role === 'staff' || user.role === 'STAFF') ? '/staff/dashboard' :\r\n                            '/user/home'\r\n                          }\r\n                          className=\"flex items-center px-4 py-2 hover:bg-orange-50 transition\"\r\n                          onClick={() => setIsUserDropdownOpen(false)}\r\n                        >\r\n                          <Cog6ToothIcon className=\"w-4 h-4 mr-2\" /> Dashboard\r\n                        </Link>\r\n                      </li>\r\n                      <li>\r\n                        <button\r\n                          onClick={() => {\r\n                            setIsUserDropdownOpen(false); logout();\r\n                          }}\r\n                          className=\"flex items-center w-full px-4 py-2 text-left hover:bg-orange-50 transition\"\r\n                        >\r\n                          <ArrowRightOnRectangleIcon className=\"w-4 h-4 mr-2\" /> Logout\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n            className=\"lg:hidden p-2 rounded-lg hover:bg-orange-600 transition-colors duration-200\"\r\n          >\r\n            {isMenuOpen ? (\r\n              <XMarkIcon className=\"w-6 h-6\" />\r\n            ) : (\r\n              <Bars3Icon className=\"w-6 h-6\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {isMenuOpen && (\r\n          <div className=\"lg:hidden mt-4 pb-4 border-t border-orange-400 pt-4\">\r\n            <div className=\"flex flex-col space-y-4\">\r\n              <Link\r\n                href=\"/\"\r\n                className=\"hover:text-orange-200 transition-colors duration-200 font-medium\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n              >\r\n                Home\r\n              </Link>\r\n              \r\n              <button\r\n                onClick={() => {\r\n                  scrollToMenu();\r\n                  setIsMenuOpen(false);\r\n                }}\r\n                className=\"text-left hover:text-orange-200 transition-colors duration-200 font-medium\"\r\n              >\r\n                Our Menu\r\n              </button>\r\n              \r\n              <Link\r\n                href=\"#about\"\r\n                className=\"hover:text-orange-200 transition-colors duration-200 font-medium\"\r\n                onClick={() => setIsMenuOpen(false)}\r\n              >\r\n                About\r\n              </Link>\r\n              \r\n              {/* Mobile Auth Section */}\r\n              {!user ? (\r\n                <Link\r\n                  href=\"/login\"\r\n                  className=\"bg-white text-orange-600 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 font-medium w-fit\"\r\n                  onClick={() => setIsMenuOpen(false)}\r\n                >\r\n                  Login\r\n                </Link>\r\n              ) : (\r\n                <>\r\n                  <div className=\"text-orange-200 font-medium\">\r\n                    Welcome, {user.name} ({user.role})\r\n                  </div>\r\n                  <Link\r\n                    href={\r\n                      (user.role === 'admin' || user.role === 'ADMIN') ? '/admin/dashboard' :\r\n                      (user.role === 'staff' || user.role === 'STAFF') ? '/staff/dashboard' :\r\n                      '/user/home'\r\n                    }\r\n                    className=\"hover:text-orange-200 transition-colors duration-200 font-medium\"\r\n                    onClick={() => setIsMenuOpen(false)}\r\n                  >\r\n                    Dashboard\r\n                  </Link>\r\n                  <button\r\n                    onClick={() => {\r\n                      logout();\r\n                      setIsMenuOpen(false);\r\n                    }}\r\n                    className=\"text-left bg-orange-600 hover:bg-orange-700 px-4 py-2 rounded-lg transition-colors duration-200 font-medium w-fit\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1046, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/providers/QueryProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { useState } from 'react';\r\n\r\nexport function QueryProvider({ children }: { children: React.ReactNode }) {\r\n  const [queryClient] = useState(\r\n    () =>\r\n      new QueryClient({\r\n        defaultOptions: {\r\n          queries: {\r\n            staleTime: 5 * 60 * 1000, // 5 minutes\r\n            gcTime: 10 * 60 * 1000, // 10 minutes\r\n            refetchOnWindowFocus: false,\r\n            retry: (failureCount, error: any) => {\r\n              // Don't retry for 4xx errors\r\n              if (error?.response?.status >= 400 && error?.response?.status < 500) {\r\n                return false;\r\n              }\r\n              return failureCount < 3;\r\n            },\r\n          },\r\n        },\r\n      })\r\n  );\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {children}\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;;;AAHA;;;AAKO,SAAS,cAAc,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IAC5B,MAAM,CAAC,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;kCAC3B,IACE,IAAI,gLAAA,CAAA,cAAW,CAAC;gBACd,gBAAgB;oBACd,SAAS;wBACP,WAAW,IAAI,KAAK;wBACpB,QAAQ,KAAK,KAAK;wBAClB,sBAAsB;wBACtB,KAAK;sDAAE,CAAC,cAAc;oCAEhB,iBAAkC;gCADtC,6BAA6B;gCAC7B,IAAI,CAAA,kBAAA,6BAAA,kBAAA,MAAO,QAAQ,cAAf,sCAAA,gBAAiB,MAAM,KAAI,OAAO,CAAA,kBAAA,6BAAA,mBAAA,MAAO,QAAQ,cAAf,uCAAA,iBAAiB,MAAM,IAAG,KAAK;oCACnE,OAAO;gCACT;gCACA,OAAO,eAAe;4BACxB;;oBACF;gBACF;YACF;;IAGJ,qBACE,6LAAC,yLAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAC1B;;;;;;AAGP;GA1BgB;KAAA","debugId":null}}]
}