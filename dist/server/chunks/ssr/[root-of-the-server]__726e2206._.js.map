{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/frontend/src/providers/QueryProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { useState } from 'react';\r\n\r\nexport function QueryProvider({ children }: { children: React.ReactNode }) {\r\n  const [queryClient] = useState(\r\n    () =>\r\n      new QueryClient({\r\n        defaultOptions: {\r\n          queries: {\r\n            staleTime: 5 * 60 * 1000, // 5 minutes\r\n            gcTime: 10 * 60 * 1000, // 10 minutes\r\n            refetchOnWindowFocus: false,\r\n            retry: (failureCount, error: any) => {\r\n              // Don't retry for 4xx errors\r\n              if (error?.response?.status >= 400 && error?.response?.status < 500) {\r\n                return false;\r\n              }\r\n              return failureCount < 3;\r\n            },\r\n          },\r\n        },\r\n      })\r\n  );\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      {children}\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;;;AAHA;;;;AAKO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAC3B,IACE,IAAI,wJAAA,CAAA,cAAW,CAAC;YACd,gBAAgB;gBACd,SAAS;oBACP,WAAW,IAAI,KAAK;oBACpB,QAAQ,KAAK,KAAK;oBAClB,sBAAsB;oBACtB,OAAO,CAAC,cAAc;wBACpB,6BAA6B;wBAC7B,IAAI,OAAO,UAAU,UAAU,OAAO,OAAO,UAAU,SAAS,KAAK;4BACnE,OAAO;wBACT;wBACA,OAAO,eAAe;oBACxB;gBACF;YACF;QACF;IAGJ,qBACE,qKAAC,wJAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAC1B;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconsole.log('API Base URL:', process.env.NEXT_PUBLIC_API_URL);\r\n\r\nconst api = axios.create({ baseURL: process.env.NEXT_PUBLIC_API_URL, withCredentials: true });\r\n\r\n// Add request interceptor for debugging\r\napi.interceptors.request.use((config) => {\r\n  console.log('Making API request to:', config.baseURL + config.url);\r\n  console.log('Request data:', config.data);\r\n  return config;\r\n}, (error) => {\r\n  console.error('Request error:', error);\r\n  return Promise.reject(error);\r\n});\r\n\r\n// Add response interceptor for debugging\r\napi.interceptors.response.use((response) => {\r\n  console.log('API response:', response.status, response.data);\r\n  return response;\r\n}, (error) => {\r\n  console.error('API error:', error.response?.status, error.response?.data);\r\n  return Promise.reject(error);\r\n});\r\n\r\n// Test endpoint\r\nexport const testConnection = () => api.get('/');\r\n\r\n// AUTH\r\nexport const login = (data: { email: string, password: string }) => api.post('/auth/login', data);\r\nexport const loginStaff = (data: { email: string, password: string }) => api.post('/auth/login-staff', data);\r\nexport const refresh = () => api.post('/auth/refresh');\r\n\r\n// GUEST\r\nexport const createGuest = (data: { tableName: string, guestName: string }) => api.post('/guest', data);\r\nexport const getGuests = (params: any) => api.get('/guest', { params });\r\nexport const getGuest = (id: string) => api.get(`/guest/${id}`);\r\nexport const updateGuest = (id: string, data: any) => api.patch(`/guest/${id}`, data);\r\nexport const deleteGuest = (id: string) => api.delete(`/guest/${id}`);\r\n\r\n// ORDER\r\nexport const createOrder = (data: any) => api.post('/order', data);\r\nexport const getOrders = (params: any) => api.get('/order', { params });\r\nexport const getOrder = (id: string) => api.get(`/order/${id}`);\r\nexport const updateOrder = (id: string, data: any) => api.patch(`/order/${id}`, data);\r\nexport const deleteOrder = (id: string) => api.delete(`/order/${id}`);\r\n\r\n// MENU ITEM\r\nexport const getMenuItems = (params: any) => api.get('/menu-item', { params });\r\nexport const getMenuItem = (id: string) => api.get(`/menu-item/${id}`);\r\nexport const createMenuItem = (data: any) => api.post('/menu-item', data);\r\nexport const updateMenuItem = (id: string, data: any) => api.patch(`/menu-item/${id}`, data);\r\nexport const deleteMenuItem = (id: string) => api.delete(`/menu-item/${id}`);\r\n\r\n// PAYMENT\r\nexport const getPayments = (params: any) => api.get('/payment', { params });\r\nexport const getPayment = (id: string) => api.get(`/payment/${id}`);\r\nexport const createPayment = (data: any) => api.post('/payment', data);\r\nexport const updatePayment = (id: string, data: any) => api.patch(`/payment/${id}`, data);\r\nexport const deletePayment = (id: string) => api.delete(`/payment/${id}`);\r\n\r\n// TABLE\r\nexport const getTables = (params: any) => api.get('/table', { params });\r\nexport const getTable = (id: string) => api.get(`/table/${id}`);\r\nexport const createTable = (data: any) => api.post('/table', data);\r\nexport const updateTable = (id: string, data: any) => api.patch(`/table/${id}`, data);\r\nexport const deleteTable = (id: string) => api.delete(`/table/${id}`);\r\n\r\n// Helper functions for frontend\r\nexport const fetchTables = async () => {\r\n  try {\r\n    const response = await getTables({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching tables:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchOrders = async () => {\r\n  try {\r\n    const response = await getOrders({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching orders:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchPayments = async () => {\r\n  try {\r\n    const response = await getPayments({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching payments:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchMenuItems = async () => {\r\n  try {\r\n    const response = await getMenuItems({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching menu items:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchGuests = async () => {\r\n  try {\r\n    const response = await getGuests({});\r\n    return response.data.data || [];\r\n  } catch (error) {\r\n    console.error('Error fetching guests:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/frontend/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { login, refresh } from '@/services/api';\r\nimport Cookies from 'js-cookie';\r\nimport { User } from '@/types';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  loading: boolean;\r\n  login: (data: { email: string; password: string }) => Promise<{ success: boolean; role?: string }>;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const useAuth = () => {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error('useAuth must be used within AuthProvider');\r\n  return ctx;\r\n};\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function checkAuth() {\r\n      setLoading(true);\r\n      try {\r\n        const res = await refresh();\r\n        if (res.data && res.data.user) {\r\n          setUser(res.data.user);\r\n          // Store user in localStorage for persistence\r\n          localStorage.setItem('user', JSON.stringify(res.data.user));\r\n        } else {\r\n          setUser(null);\r\n          localStorage.removeItem('user');\r\n        }\r\n      } catch {\r\n        setUser(null);\r\n        localStorage.removeItem('user');\r\n      }\r\n      setLoading(false);\r\n    }\r\n    \r\n    // Check localStorage first for faster initial load\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      try {\r\n        setUser(JSON.parse(storedUser));\r\n      } catch {\r\n        localStorage.removeItem('user');\r\n      }\r\n    }\r\n    \r\n    checkAuth();\r\n  }, []);\r\n\r\n  async function loginUser(data: { email: string; password: string }) {\r\n    try {\r\n      const res = await login(data);\r\n      console.log('Login response:', res.data);\r\n      \r\n      if (res.data && res.data.data && res.data.data.user) {\r\n        const userData = res.data.data.user;\r\n        const accessToken = res.data.data.accessToken;\r\n        \r\n        // Store user data and token\r\n        setUser(userData);\r\n        localStorage.setItem('user', JSON.stringify(userData));\r\n        localStorage.setItem('accessToken', accessToken);\r\n        \r\n        // Convert role to lowercase for consistency\r\n        const role = userData.role.toLowerCase();\r\n        return { success: true, role };\r\n      }\r\n    } catch (error) {\r\n      console.error('Login failed:', error);\r\n    }\r\n    return { success: false };\r\n  }\r\n\r\n  function logout() {\r\n    Cookies.remove(process.env.NEXT_PUBLIC_JWT_COOKIE_NAME!);\r\n    setUser(null);\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/login';\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading, login: loginUser, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;AAJA;;;;;AAcA,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,UAAU;IACrB,MAAM,MAAM,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT;AAEO,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,WAAW;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,CAAA,GAAA,+GAAA,CAAA,UAAO,AAAD;gBACxB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;oBAC7B,QAAQ,IAAI,IAAI,CAAC,IAAI;oBACrB,6CAA6C;oBAC7C,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI;gBAC3D,OAAO;oBACL,QAAQ;oBACR,aAAa,UAAU,CAAC;gBAC1B;YACF,EAAE,OAAM;gBACN,QAAQ;gBACR,aAAa,UAAU,CAAC;YAC1B;YACA,WAAW;QACb;QAEA,mDAAmD;QACnD,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY;YACd,IAAI;gBACF,QAAQ,KAAK,KAAK,CAAC;YACrB,EAAE,OAAM;gBACN,aAAa,UAAU,CAAC;YAC1B;QACF;QAEA;IACF,GAAG,EAAE;IAEL,eAAe,UAAU,IAAyC;QAChE,IAAI;YACF,MAAM,MAAM,MAAM,CAAA,GAAA,+GAAA,CAAA,QAAK,AAAD,EAAE;YACxB,QAAQ,GAAG,CAAC,mBAAmB,IAAI,IAAI;YAEvC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACnD,MAAM,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI;gBACnC,MAAM,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;gBAE7C,4BAA4B;gBAC5B,QAAQ;gBACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;gBAC5C,aAAa,OAAO,CAAC,eAAe;gBAEpC,4CAA4C;gBAC5C,MAAM,OAAO,SAAS,IAAI,CAAC,WAAW;gBACtC,OAAO;oBAAE,SAAS;oBAAM;gBAAK;YAC/B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;QACjC;QACA,OAAO;YAAE,SAAS;QAAM;IAC1B;IAEA,SAAS;QACP,wHAAA,CAAA,UAAO,CAAC,MAAM;QACd,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS,OAAO;YAAW;QAAO;kBACpE;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/frontend/src/pages/_app.tsx"],"sourcesContent":["import { AppProps } from 'next/app';\r\nimport { QueryProvider } from '@/providers/QueryProvider';\r\nimport { AuthProvider } from '@/contexts/AuthContext';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport '@/app/globals.css';\r\n\r\nexport default function MyApp({ Component, pageProps }: AppProps) {\r\n  return (\r\n    <QueryProvider>\r\n      <AuthProvider>\r\n        <Component {...pageProps} />\r\n        <Toaster position=\"top-right\" />\r\n      </AuthProvider>\r\n    </QueryProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;;;;;;;;;AAGe,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAY;IAC9D,qBACE,qKAAC,2HAAA,CAAA,gBAAa;kBACZ,cAAA,qKAAC,wHAAA,CAAA,eAAY;;8BACX,qKAAC;oBAAW,GAAG,SAAS;;;;;;8BACxB,qKAAC,0IAAA,CAAA,UAAO;oBAAC,UAAS;;;;;;;;;;;;;;;;;AAI1B","debugId":null}}]
}