{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/hooks/useAdminOrders.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { getOrders, createOrder, updateOrder, deleteOrder } from '@/services/api';\r\n\r\nexport function useAdminOrders(query: { page?: number; search?: string } = {}) {\r\n  return useQuery({\r\n    queryKey: ['orders', query],\r\n    queryFn: () => getOrders(query),\r\n    select: (res) => res.data,\r\n  });\r\n}\r\n\r\nexport function useCreateOrder() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: createOrder,\r\n    onSuccess: () => queryClient.invalidateQueries(['orders']),\r\n  });\r\n}\r\n\r\nexport function useUpdateOrder() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: ({ id, ...data }: any) => updateOrder(id, data),\r\n    onSuccess: () => queryClient.invalidateQueries(['orders']),\r\n  });\r\n}\r\n\r\nexport function useDeleteOrder() {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: deleteOrder,\r\n    onSuccess: () => queryClient.invalidateQueries(['orders']),\r\n  });\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;;;;AAEO,SAAS,eAAe,QAA4C,CAAC,CAAC;IAC3E,OAAO,CAAA,GAAA,wJAAA,CAAA,WAAQ,AAAD,EAAE;QACd,UAAU;YAAC;YAAU;SAAM;QAC3B,SAAS,IAAM,CAAA,GAAA,+GAAA,CAAA,YAAS,AAAD,EAAE;QACzB,QAAQ,CAAC,MAAQ,IAAI,IAAI;IAC3B;AACF;AAEO,SAAS;IACd,MAAM,cAAc,CAAA,GAAA,wJAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,wJAAA,CAAA,cAAW,AAAD,EAAE;QACjB,YAAY,+GAAA,CAAA,cAAW;QACvB,WAAW,IAAM,YAAY,iBAAiB,CAAC;gBAAC;aAAS;IAC3D;AACF;AAEO,SAAS;IACd,MAAM,cAAc,CAAA,GAAA,wJAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,wJAAA,CAAA,cAAW,AAAD,EAAE;QACjB,YAAY,CAAC,EAAE,EAAE,EAAE,GAAG,MAAW,GAAK,CAAA,GAAA,+GAAA,CAAA,cAAW,AAAD,EAAE,IAAI;QACtD,WAAW,IAAM,YAAY,iBAAiB,CAAC;gBAAC;aAAS;IAC3D;AACF;AAEO,SAAS;IACd,MAAM,cAAc,CAAA,GAAA,wJAAA,CAAA,iBAAc,AAAD;IACjC,OAAO,CAAA,GAAA,wJAAA,CAAA,cAAW,AAAD,EAAE;QACjB,YAAY,+GAAA,CAAA,cAAW;QACvB,WAAW,IAAM,YAAY,iBAAiB,CAAC;gBAAC;aAAS;IAC3D;AACF","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/components/Admin/OrderList.tsx"],"sourcesContent":["import { Order } from '@/types';\r\nimport { FC } from 'react';\r\n\r\ninterface OrderListProps {\r\n  orders: Order[];\r\n  onEdit: (order: Order) => void;\r\n  onDelete: (id: string) => void;\r\n}\r\n\r\nconst OrderList: FC<OrderListProps> = ({ orders, onEdit, onDelete }) => (\r\n  <table className=\"w-full bg-white rounded shadow\">\r\n    <thead>\r\n      <tr className=\"bg-gray-100\">\r\n        <th className=\"py-2 px-3 text-left\">Guest</th>\r\n        <th className=\"py-2 px-3 text-left\">Total</th>\r\n        <th className=\"py-2 px-3 text-left\">Status</th>\r\n        <th className=\"py-2 px-3\">Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {orders.map((row) => (\r\n        <tr key={row._id} className=\"border-t\">\r\n          <td className=\"py-2 px-3\">{row.guest}</td>\r\n          <td className=\"py-2 px-3\">${row.totalAmount}</td>\r\n          <td className=\"py-2 px-3\">{row.status}</td>\r\n          <td className=\"py-2 px-3 text-center\">\r\n            <button className=\"text-blue-700 hover:underline mr-3\" onClick={() => onEdit(row)}>Edit</button>\r\n            <button className=\"text-red-600 hover:underline\" onClick={() => onDelete(row._id)}>Delete</button>\r\n          </td>\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nexport default OrderList;\r\n\r\n"],"names":[],"mappings":";;;;;AASA,MAAM,YAAgC,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,iBACjE,qKAAC;QAAM,WAAU;;0BACf,qKAAC;0BACC,cAAA,qKAAC;oBAAG,WAAU;;sCACZ,qKAAC;4BAAG,WAAU;sCAAsB;;;;;;sCACpC,qKAAC;4BAAG,WAAU;sCAAsB;;;;;;sCACpC,qKAAC;4BAAG,WAAU;sCAAsB;;;;;;sCACpC,qKAAC;4BAAG,WAAU;sCAAY;;;;;;;;;;;;;;;;;0BAG9B,qKAAC;0BACE,OAAO,GAAG,CAAC,CAAC,oBACX,qKAAC;wBAAiB,WAAU;;0CAC1B,qKAAC;gCAAG,WAAU;0CAAa,IAAI,KAAK;;;;;;0CACpC,qKAAC;gCAAG,WAAU;;oCAAY;oCAAE,IAAI,WAAW;;;;;;;0CAC3C,qKAAC;gCAAG,WAAU;0CAAa,IAAI,MAAM;;;;;;0CACrC,qKAAC;gCAAG,WAAU;;kDACZ,qKAAC;wCAAO,WAAU;wCAAqC,SAAS,IAAM,OAAO;kDAAM;;;;;;kDACnF,qKAAC;wCAAO,WAAU;wCAA+B,SAAS,IAAM,SAAS,IAAI,GAAG;kDAAG;;;;;;;;;;;;;uBAN9E,IAAI,GAAG;;;;;;;;;;;;;;;;uCAcT","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/components/Admin/OrderFormModal.tsx"],"sourcesContent":["import { Order } from '@/types';\r\nimport { FC, useState } from 'react';\r\n\r\ninterface OrderFormModalProps {\r\n  initial?: Order;\r\n  onSubmit: (data: { guest: string; status: string }) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst OrderFormModal: FC<OrderFormModalProps> = ({ initial, onSubmit, onClose }) => {\r\n  const [guest, setGuest] = useState(typeof initial?.guest === 'string' ? initial.guest : initial?.guest?.guestName || '');\r\n  const [status, setStatus] = useState<Order['status']>((initial?.status as Order['status']) || 'pending');\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white p-8 rounded shadow w-full max-w-md\">\r\n        <h2 className=\"font-bold text-lg mb-4\">{initial ? 'Edit Order' : 'New Order'}</h2>\r\n        <div className=\"mb-3\">\r\n          <label className=\"block mb-1\">Guest</label>\r\n          <input value={guest} onChange={e=>setGuest(e.target.value)} className=\"border rounded px-2 py-1 w-full\" required />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block mb-1\">Status</label>\r\n          <select value={status} onChange={e=>setStatus(e.target.value as Order['status'])} className=\"border rounded px-2 py-1 w-full\">\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"preparing\">Preparing</option>\r\n            <option value=\"served\">Served</option>\r\n            <option value=\"cancelled\">Cancelled</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"px-4 py-1 bg-primary text-white rounded\" onClick={()=>onSubmit({guest, status})}>{initial?'Update':'Create'}</button>\r\n          <button className=\"ml-2 px-4 py-1 bg-gray-200 rounded\" onClick={onClose}>Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default OrderFormModal;\r\n\r\n"],"names":[],"mappings":";;;;AACA;;;AAQA,MAAM,iBAA0C,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE;IAC7E,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,SAAS,UAAU,WAAW,QAAQ,KAAK,GAAG,SAAS,OAAO,aAAa;IACrH,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAmB,AAAC,SAAS,UAA8B;IAC9F,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAG,WAAU;8BAA0B,UAAU,eAAe;;;;;;8BACjE,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAM,WAAU;sCAAa;;;;;;sCAC9B,qKAAC;4BAAM,OAAO;4BAAO,UAAU,CAAA,IAAG,SAAS,EAAE,MAAM,CAAC,KAAK;4BAAG,WAAU;4BAAkC,QAAQ;;;;;;;;;;;;8BAElH,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAM,WAAU;sCAAa;;;;;;sCAC9B,qKAAC;4BAAO,OAAO;4BAAQ,UAAU,CAAA,IAAG,UAAU,EAAE,MAAM,CAAC,KAAK;4BAAsB,WAAU;;8CAC1F,qKAAC;oCAAO,OAAM;8CAAU;;;;;;8CACxB,qKAAC;oCAAO,OAAM;8CAAY;;;;;;8CAC1B,qKAAC;oCAAO,OAAM;8CAAS;;;;;;8CACvB,qKAAC;oCAAO,OAAM;8CAAY;;;;;;;;;;;;;;;;;;8BAG9B,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAO,WAAU;4BAA0C,SAAS,IAAI,SAAS;oCAAC;oCAAO;gCAAM;sCAAK,UAAQ,WAAS;;;;;;sCACtH,qKAAC;4BAAO,WAAU;4BAAqC,SAAS;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKnF;uCACe","debugId":null}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADmin/Desktop/aaaaaa/frontend%20-%20Copy/src/pages/admin/orders.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useAdminOrders, useCreateOrder, useUpdateOrder, useDeleteOrder } from '@/hooks/useAdminOrders';\r\nimport OrderList from '@/components/Admin/OrderList';\r\nimport OrderFormModal from '@/components/Admin/OrderFormModal';\r\nimport { Order } from '@/types';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nexport default function AdminOrdersPage() {\r\n  const { user, loading } = useAuth();\r\n  const { data, isLoading } = useAdminOrders();\r\n  const createOrder = useCreateOrder();\r\n  const updateOrder = useUpdateOrder();\r\n  const deleteOrder = useDeleteOrder();\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [editOrder, setEditOrder] = useState<Order|null>(null);\r\n\r\n  if (loading || !user) return <p className=\"p-12 text-center\">Loading...</p>;\r\n  if (user.role !== 'ADMIN') return <p>Not authorized</p>;\r\n  function handleCreate() { setEditOrder(null); setModalOpen(true); }\r\n  function handleSave(data: { guest: string; status: Order['status'] }) {\r\n    if (editOrder) updateOrder.mutate({ id: editOrder._id, ...data });\r\n    else createOrder.mutate(data);\r\n    setModalOpen(false);\r\n  }\r\n  function handleEdit(order: Order) { setEditOrder(order); setModalOpen(true); }\r\n  function handleDelete(id: string) { if (confirm('Delete order?')) deleteOrder.mutate(id); }\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold\">Manage Orders</h1>\r\n        <button className=\"bg-primary text-white px-4 py-2 rounded\" onClick={handleCreate}>+ Order</button>\r\n      </div>\r\n      {isLoading ? <p>Loading...</p> : (\r\n        <OrderList orders={data?.items || []} onEdit={handleEdit} onDelete={handleDelete} />\r\n      )}\r\n      {modalOpen && (\r\n        <OrderFormModal\r\n          initial={editOrder || undefined}\r\n          onSubmit={handleSave}\r\n          onClose={() => setModalOpen(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IAChC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD;IACzC,MAAM,cAAc,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,cAAc,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,cAAc,CAAA,GAAA,uHAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAc;IAEvD,IAAI,WAAW,CAAC,MAAM,qBAAO,qKAAC;QAAE,WAAU;kBAAmB;;;;;;IAC7D,IAAI,KAAK,IAAI,KAAK,SAAS,qBAAO,qKAAC;kBAAE;;;;;;IACrC,SAAS;QAAiB,aAAa;QAAO,aAAa;IAAO;IAClE,SAAS,WAAW,IAAgD;QAClE,IAAI,WAAW,YAAY,MAAM,CAAC;YAAE,IAAI,UAAU,GAAG;YAAE,GAAG,IAAI;QAAC;aAC1D,YAAY,MAAM,CAAC;QACxB,aAAa;IACf;IACA,SAAS,WAAW,KAAY;QAAI,aAAa;QAAQ,aAAa;IAAO;IAC7E,SAAS,aAAa,EAAU;QAAI,IAAI,QAAQ,kBAAkB,YAAY,MAAM,CAAC;IAAK;IAC1F,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,qKAAC;wBAAO,WAAU;wBAA0C,SAAS;kCAAc;;;;;;;;;;;;YAEpF,0BAAY,qKAAC;0BAAE;;;;;qCACd,qKAAC,iIAAA,CAAA,UAAS;gBAAC,QAAQ,MAAM,SAAS,EAAE;gBAAE,QAAQ;gBAAY,UAAU;;;;;;YAErE,2BACC,qKAAC,sIAAA,CAAA,UAAc;gBACb,SAAS,aAAa;gBACtB,UAAU;gBACV,SAAS,IAAM,aAAa;;;;;;;;;;;;AAKtC","debugId":null}}]
}